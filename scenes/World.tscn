[gd_scene load_steps=12 format=1]

[ext_resource path="res://scenes/World.gd" type="Script" id=1]
[ext_resource path="res://scenes/Level.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/Enemy.tscn" type="PackedScene" id=3]
[ext_resource path="res://assets/sound/crow_1.wav" type="Sample" id=4]
[ext_resource path="res://assets/sound/default_enemy_hit.wav" type="Sample" id=5]
[ext_resource path="res://assets/music/gmae_music1.ogg" type="AudioStream" id=6]
[ext_resource path="res://scenes/Block.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/CRT_frame.tscn" type="PackedScene" id=8]
[ext_resource path="res://CRTViewportDisplay/CRTFrame.png" type="Texture" id=9]

[sub_resource type="CanvasItemShader" id=1]

_code = {
"fragment": "uniform float lines_distance = 4.0;
uniform float pixel_size = 2.0;
uniform float size_screen = 600;
uniform float scanline_alpha = 0.9;
uniform float lines_velocity = 30.0;

float line_row = floor((SCREEN_UV.y * size_screen/pixel_size) + mod(TIME*lines_velocity, lines_distance));

float n = 1.0 - ceil((mod(line_row,lines_distance)/lines_distance));

vec4 c = vec4(texscreen(SCREEN_UV),1);
c = c - n*c*(1 - scanline_alpha);
c.a = 1;
COLOR = c;",
"fragment_ofs": 0,
"light": "",
"light_ofs": 0,
"vertex": "",
"vertex_ofs": 0
}

[sub_resource type="CanvasItemMaterial" id=2]

shader/shader = SubResource( 1 )
shader/shading_mode = 0
shader_param/lines_distance = 2.0
shader_param/pixel_size = 6.0
shader_param/size_screen = 1024.0
shader_param/scanline_alpha = 0.92
shader_param/lines_velocity = 4.0

[node name="World" type="Node" groups=[
"world",
]]

script/script = ExtResource( 1 )

[node name="Stage" parent="." instance=ExtResource( 2 )]

transform/pos = Vector2( 2.27344, 85.3906 )

[node name="Enemy" parent="." instance=ExtResource( 3 )]

transform/pos = Vector2( 639, 257 )
hit_sound = ExtResource( 4 )

[node name="Enemy 2" parent="." instance=ExtResource( 3 )]

transform/pos = Vector2( 350, 500 )
hit_sound = ExtResource( 5 )

[node name="Enemy 3" parent="." instance=ExtResource( 3 )]

transform/pos = Vector2( 470, 234 )
hit_sound = ExtResource( 5 )

[node name="StreamPlayer" type="StreamPlayer" parent="."]

stream/stream = ExtResource( 6 )
stream/play = false
stream/loop = false
stream/volume_db = 0.0
stream/autoplay = false
stream/paused = false
stream/loop_restart_time = 0.0
stream/buffering_ms = 500

[node name="Blocks" type="Node2D" parent="."]

[node name="Block" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 285.499, 266.67 )

[node name="Block 2" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 285.007, 286.267 )

[node name="Block 3" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 284.451, 245.229 )

[node name="Block 4" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 282.945, 225.606 )

[node name="Block5" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 557.418, 338.262 )
block_type = "INDESTRUCTABLE"

[node name="Block11" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 557.418, 338.262 )
block_type = "INDESTRUCTABLE"

[node name="Block6" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 255.236, 330.117 )

[node name="Block7" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 250, 389 )
block_type = "INDESTRUCTABLE"

[node name="Block25 11" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 172, 572 )
block_type = "INDESTRUCTABLE"

[node name="Block25 10" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 172, 552 )
block_type = "INDESTRUCTABLE"

[node name="Block25 3" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 542 )
block_type = "INDESTRUCTABLE"

[node name="Block16" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 302 )
block_type = "INDESTRUCTABLE"

[node name="Block25" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 522 )
block_type = "INDESTRUCTABLE"

[node name="Block17" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 282 )
block_type = "INDESTRUCTABLE"

[node name="Block25 2" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 502 )
block_type = "INDESTRUCTABLE"

[node name="Block18" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 262 )
block_type = "INDESTRUCTABLE"

[node name="Block25 4" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 482 )
block_type = "INDESTRUCTABLE"

[node name="Block19" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 242 )
block_type = "INDESTRUCTABLE"

[node name="Block25 9" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 462 )
block_type = "INDESTRUCTABLE"

[node name="Block20" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 221 )
block_type = "INDESTRUCTABLE"

[node name="Block25 5" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 442 )
block_type = "INDESTRUCTABLE"

[node name="Block21" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 202 )
block_type = "INDESTRUCTABLE"

[node name="Block25 6" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 422 )
block_type = "INDESTRUCTABLE"

[node name="Block24" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 752, 202 )
block_type = "INDESTRUCTABLE"

[node name="Block22" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 172, 172 )
block_type = "INDESTRUCTABLE"

[node name="Block23" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 172, 152 )
block_type = "INDESTRUCTABLE"

[node name="Block8" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 489.015, 478.103 )
block_type = "RABIUM"

[node name="Block9" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 430.938, 495.207 )
block_type = "RABIUM"

[node name="Block10" parent="Blocks" instance=ExtResource( 7 )]

transform/pos = Vector2( 490.644, 513.941 )
block_type = "RABIUM"

[node name="CRTOverlay" type="CanvasLayer" parent="."]

layer = 1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )

[node name="TextureFrame1" parent="CRTOverlay" instance=ExtResource( 8 )]

material/material = SubResource( 2 )

[node name="Sprite" type="Sprite" parent="CRTOverlay"]

transform/scale = Vector2( 0.945471, 0.945813 )
texture = ExtResource( 9 )
centered = false
__meta__ = {
"_edit_lock_": true
}


